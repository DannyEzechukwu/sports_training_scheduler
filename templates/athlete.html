{% extends "base.html" %}

{% block title %}Athlete Profile{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/athlete.css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
{% endblock %}

{% block body %}

<div  class ="header">
    <h1 id ="header">Today's Sessions</h1>
    <h2 id="subheader" style = "display: none;">Select up to 3 sessions</h2>
</div>

<div id = "side-nav">
</div>

<div class="data-table-container" id="past-sessions-container" style = "display: none;"> 
    
    <table class="data-table" id="past-sessions-table">

        <thead>
            <tr> 
                <th>Date</th>
                <th>Duration</th>
                <th>Location</th>
                <th>Event</th>
                <th>Description</th>
                <th>Coach</th>
                <th>Coach Feedback</th>
            </tr>
        </thead>

        <tbody>
            {% for dict in past_events %}
            <tr>
                <td>{{ dict["date"] }}</td>
                <td>{{ dict["duration"] }}</td>
                <td>{{ dict["location"] }}</td>
                <td>{{ dict["event"] }}</td>
                <td>{{ dict["description"] }}</td>
                <td>{{ dict["coach"] }}</td>
                <td>{{ dict["feedback"] }}</td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

</div>

<div class="data-table-container" id="current-sessions-container"> 
    
    <table class="data-table" id="current-sessions-table">

        <thead>
            <tr> 
                <th>Date</th>
                <th>Duration</th>
                <th>Location</th>
                <th>Event</th>
                <th>Description</th>
                <th>Coach</th>
                <th>Coach Feedback</th>
            </tr>
        </thead>

        <tbody>
            {% for dict in current_events %}
            <tr>
                <td>{{ dict["date"] }}</td>
                <td>{{ dict["duration"] }}</td>
                <td>{{ dict["location"] }}</td>
                <td>{{ dict["event"] }}</td>
                <td>{{ dict["description"] }}</td>
                <td>{{ dict["coach"] }}</td>
                <td>{{ dict["feedback"] }}</td>
            </tr>
            {% endfor %}
        </tbody>

    </table>
    
</div>

<div class="data-table-container" id="future-sessions-container" style="display: none;"> 
    
    <table class="data-table" id="future-sessions-table">

        <thead>
            <tr> 
                <th>Date</th>
                <th>Duration</th>
                <th>Location</th>
                <th>Event</th>
                <th>Description</th>
                <th>Coach</th>
                <th>Coach Feedback</th>
            </tr>
        </thead>

        <tbody>
            {% for dict in future_events %}
            <tr>
                <td>{{ dict["date"] }}</td>
                <td>{{ dict["duration"] }}</td>
                <td>{{ dict["location"] }}</td>
                <td>{{ dict["event"] }}</td>
                <td>{{ dict["description"] }}</td>
                <td> {{ dict["coach"] }} </td>
                <td>{{ dict["feedback"] }}</td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

</div>

<div id = "event-selection-container" style = "display: none;">
    
    <form action="/training_session_options/json" id = "event-selection-form" method = "GET">
        
        <div>
            <label for="selected-date">Date:</label>
            <input type="date" name ="selected-date" id="selected-date">
        </div>
        
        <div>
            <label for="selected-start-time">Start Time:</label>
            <select name="selected-start-time" id="selected-start-time">
                {% for time in start_time_options %}
                <option value="{{ time }}"> {{ time }} </option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label for="selected-coach">Preferred Coach:</label>
            <select name="selected-coach" id="selected-coach">
                {% for coach in coaches %}
                <option value="{{ coach.fname }}"> Coach {{ coach.fname }} </option>
                {% endfor %}
            </select>
        </div>
        <div id="submit">
            <input  type="submit">
        </div>

    </form>

</div>

<div id="event-output">
</div>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="/static/js/athlete/athlete.jsx" type="text/jsx"></script>
<script src ="/static/js/athlete/athlete.js"></script>
{% endblock %}